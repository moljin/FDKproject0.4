{% extends "base.html" %}

{% block title %}
    상품 등록
{% endblock %}

{% block head_css %}
    <link href="{{ url_for('static', filename='statics/font-awesome-5.15.1/css/all.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='statics/unit_editor/css/unitsEditor.css') }}" rel="stylesheet">
{% endblock %}

{% block head_js %}
    <script src="{{ url_for('static', filename='statics/unit_editor/js/unitsEditor.js') }}"></script>
    <script>
        unitsImagesSaveAjax = "{{ url_for("products.units_images_save_ajax") }}"
        CSRF_TOKEN = "{{ csrf_token() }}"
        HOME_URL = "{{ url_for('commons.index') }}"

        Units_Subject = "{{ product_obj.title }}"
        Editable_Content = `{{ product_obj.content|safe }}`
    </script>
{% endblock %}

{% block above_main %}
{% endblock %}

{% block body %}
    상품 생성
    <form method="POST" enctype="multipart/form-data">
        {{ form.csrf_token }}
        {{ form.title }}

        {% block wysiwyg %}
            <section class="wysiwyg-wrapper">
                {% include 'includes/unit_editor/unit_editor.html' %}
            </section>
        {% endblock %}

        <div class="units-submit-div">
            <button id="form-submit" class="units-submit" type="submit">저장</button>
        </div>
        <input type="hidden" id="orm_id" name="orm_id" value="{{ orm_id }}">
        <input type="hidden" name="shopcategory_id" value="{{ request.full_path }}">
        {{ request.full_path }}
    <p>orm_id::: {{ orm_id }}</p>
    {{ product_obj.product_unitsproductimage_set }}
    </form>

{% endblock %}

{% block content %}
    <section class="body-wrapper other-body mb-15" >
        <a href="https://github.com/improvise0828/stone-editor" target="_blank">Github: stone editor :: Reference</a>
    </section>
{% endblock %}

{% block units_script %}
    <script>
        document.querySelector(".units-btn-group.cancel-group > span:nth-child(1)").style.display = "none";
        document.querySelector(".units-btn-group.cancel-group > span:nth-child(2)").style.display = "none";
    </script>
    <script src="{{ url_for('static', filename='statics/unit_editor/js/updateInit.js') }}"></script>
    <script src="{{ url_for('static', filename='statics/js/commons/slideToggle.js') }}"></script>
    <script src="{{ url_for('static', filename='statics/unit_editor/js/toolbar.js') }}"></script>
    <script src="{{ url_for('static', filename='statics/unit_editor/js/toolbarMediaQuery.js') }}"></script>
    <script src="{{ url_for('static', filename='statics/unit_editor/js/submit.js') }}"></script>
{% endblock %}